<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    {{ template "header" . }}
    <title>Millions of Words - Albums</title>
</head>
<body class="mx-auto my-8 dark:bg-gray-900 dark:text-gray-200">
    <header class="text-center p-4">
        <h1 class="fancy-header">Millions of Words</h1>
    </header>
    <div class="flex flex-col lg:flex-row bg-gray-800/50 rounded-lg border border-gray-700 backdrop-blur-sm p-2 my-4 mx-auto max-w-4xl">
        <div class="w-[300px] grid grid-cols-2 gap-x-5 gap-y-0.5 text-sm text-gray-400 px-3 py-3">
            <div class="cursor-pointer hover:text-white bg-gray-700/50 text-white" data-value="{{.TotalAlbums}}" data-desc="Total number of unique albums">Total Albums</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalSongs}}" data-desc="Total number of individual songs across all albums">Total Songs</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalWords}}" data-desc="Total count of all words in lyrics across all songs">Total Words</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalChars}}" data-desc="Total characters in all lyrics, including spaces">Total Characters</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.AvgSongsPerAlbum}}" data-desc="Average songs per album">Songs per Album</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.AvgWordsPerAlbum}}" data-desc="Average words per album">Words per Album</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.AvgWordLength}}" data-desc="Average word length across all albums">Average Word Length</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.AvgCharsPerAlbum}}" data-desc="Average characters per album">Characters per Album</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalDuration}}" data-desc="Total duration of all songs in minutes">Total Minutes</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.WPM}}" data-desc="Average words per minute across all songs">Words per Minute</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalVowels}}" data-desc="Total vowels in all lyrics">Total Vowels</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalConsonants}}" data-desc="Total consonants in all lyrics">Total Consonants</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.TotalLines}}" data-desc="Total lines of lyrics">Total Lines</div>
            <div class="cursor-pointer hover:text-white" data-value="{{.ProjectedAlbums}}" data-desc="The estimated number of albums still needed to reach 1 million words">Albums to 1 million</div>
        </div>
        
        <div class="w-[200px] flex flex-col items-start justify-center lg:pl-6 border-t lg:border-t-0 lg:border-l border-gray-700 pt-3 lg:pt-0">
            <div id="stats-display" class="w-full"></div>
        </div>
    </div>

    <nav class="mt-8 space-x-2 text-center">
        <a href="/all-words" class="inline-block px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors">All Words</a>
        <a href="/all-albums" class="inline-block px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors">All Albums</a>
        <a href="/about" class="inline-block px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors">About</a>
    </nav>

    <h2 class="text-2xl font-bold mt-8 text-center">Latest Albums</h2>

    <main class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6 p-4">
        {{ template "album-grid.html" . }}
    </main>

    <div class="text-center mb-8">
        <a href="/all-albums" class="hover:text-indigo-400 transition-colors">See all</a>
    </div>

    <script>
        function updateDisplay(item) {
            const display = document.getElementById('stats-display');
            const customContent = item.dataset.content;
            
            if (customContent) {
                display.innerHTML = customContent;
            } else {
                display.innerHTML = `
                    <div class="text-7xl font-bold text-white">${item.dataset.value}</div>
                    <div class="text-sm text-gray-400">${item.dataset.desc}</div>
                `;
            }
        }
        
        const firstItem = document.querySelector('[data-value]');
        updateDisplay(firstItem);

        document.querySelectorAll('[data-value]').forEach(item => {
            item.addEventListener('mouseenter', () => {
                document.querySelectorAll('[data-value]').forEach(i => {
                    i.classList.remove('bg-gray-700/50', 'text-white');
                });
                item.classList.add('bg-gray-700/50', 'text-white');
                updateDisplay(item);
            });
        });
    </script>
</body>
</html>